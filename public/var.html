<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Demo: Loading Overlay (Step 1)</title>
        <link rel="stylesheet" href="style.css" media="screen">
        <!-- load dojo and provide config via data attribute -->
        <script src="http://ajax.googleapis.com/ajax/libs/dojo/1.9/dojo/dojo.js"
            data-dojo-config="isDebug: true">
        </script>
    </head>
    <body>
        <script>
        var wrapper = dojo.create("div", {
            id: "loadingOverlay",
            "class": "loadingOverlay pageOverlay",
            innerHTML: '<div class="loadingMessage">Loading...</div>'
        }, dojo.body());
        
        

        var loadingOverlay = (function(){
            // the overlay object with its methods are the return value 
            // of this anonymous function
            
            var overlayNode;
            return {
                init: function(){
                    // create the container element for the overlay
                    // We store the reference in the overlayNode closure variable
                    overlayNode = dojo.create('div', {
                        id: 'loadingOverlay',
                        'class': 'loadingOverlay pageOverlay',
                        innerHTML: '<div class="loadingMessage">Loading...</div>'
                    }, dojo.body());
                    
                    return this;
                },
                show: function(){
                    // show the overlay
                    dojo.style( overlayNode, {
                        display: 'block'
                    });
                },
                hide: function(){
                    // hide the overlay
                    dojo.style( overlayNode, {
                        display: 'none'
                    });
                }
            };
        })();
    
        </script>
        <h1>Demo: Loading Overlay</h1>
        <p>The rest of your page...</p>
    </body>
</html>